feat: add state controller and its logic

